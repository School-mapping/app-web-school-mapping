<!DOCTYPE html>
<html lang="pt-br">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="../css/dash.css" />
<link rel="stylesheet" href="../css/dashPorEscola.css" />

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dash especÃ­fica</title>
</head>

<body onload="carregarNome()">
    <aside class="barraLateral-esquerda">
        <img src="../assets/user.png" alt="" class="iconepessoa" />
        <div class="conteudo-central">

            <span id="nomeUser"></span>

            <nav class="menu-lateral">
                <a href="./dash.html" class="btn-menu">Home</a>
                <a href="./escolas.HTML" class="btn-menu">Escolas</a>
                <a href="./configuracao.html" class="btn-menu">ConfiguraÃ§Ã£o</a>
            </nav><ss="sair-section">
                <a href="#" class="btn-menu">Sair</a>

        </div>
    </aside>

    <Main class="conteudo">
        <div class="classHitorico">
            <div class="">VisÃ£o Geral Municipal (IDEB) > Escolas > E.M. Jeremias Jubileu</div>
            <button id="buttonCompararEscola">Comparar com melhor escola do ranking</button>
        </div>

        <div class="classKpis" id="divKpis">
            <div class="classKpi classKpi1">
                <b>7.8 <a class="variacao1">(-1ðŸ”½)</a></b><br>
                IDEB atual
            </div>
            <div class="classKpi classKpi2">
                <b>300k <a class="variacao2">(+R$50kðŸ”¼)</a></b><br>
                Ãšltimo repasse Financeiro - PTRF
            </div>
            <div class="classKpi classKpi3">
                <b>48Âº Lugar <a class="variacao3">(+3ðŸ”¼)</a></b><br>
                Ranking de melhores escolas (IDEB)
            </div>
        </div>

        <div class="classGraficoPrincipal">
            <canvas id="canvasGraficoPrincipal"></canvas>
        </div>

    </Main>

</body>

</html>
<script>

    function carregarNome() {
        nomeUser.innerHTML = sessionStorage.USUARIO;
    }

    const ctx = document.getElementById('canvasGraficoPrincipal');

    const mixedChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['2023', '2024'],
            datasets: [
                {
                    type: 'line',
                    label: 'Repasses Financeiros',
                    data: [250000, 300000],
                    yAxisID: 'RightY', // eixo da direita
                    borderColor: '#000AC2',
                    backgroundColor: '#000AC2',
                    tension: 0.3,
                    borderWidth: 1,
                    borderRadius: 6,
                    borderSkipped: false,
                },
                {
                    type: 'bar',
                    label: 'IDEB',
                    data: [8.8, 7.8],
                    yAxisID: 'LeftY', // eixo da esquerda
                    backgroundColor: '#4600C2',
                    borderColor: '#4600C2',
                    borderWidth: 1,
                    borderRadius: 6,
                    borderSkipped: false,
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                LeftY: {
                    type: 'linear',
                    position: 'left',
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Escala do IDEB'
                    }
                },
                RightY: {
                    type: 'linear',
                    position: 'right',
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Repasses financeiros - PTRF'
                    },
                    grid: {
                        drawOnChartArea: false
                    }
                }
            }
        }
    });


</script>